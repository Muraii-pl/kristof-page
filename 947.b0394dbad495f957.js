"use strict";(self.webpackChunkKristofPage=self.webpackChunkKristofPage||[]).push([[947],{8947:(x,v,i)=>{i.r(v),i.d(v,{DevicesModule:()=>E});var d=i(9808),f=i(3902),g=i(9476),e=i(1223),r=i(63),p=i(4929),N=i(7690),u=i(787),_=i(2039),c=i(2852),s=i(2382),h=i(282),M=i(7145),C=i(3064);function z(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"app-confirmation-modal",9),e.NdJ("actionResult",function(n){return e.CHM(t),e.oxw().close(n)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("name",t.editConfirmModalName)("title","")("mainText","Twoje zmiany nie zostaly napisane. Czy napewno chcesz wyj\u015b\u0107?")}}let D=(()=>{class o extends _.d{constructor(t,a,n){super(a,n),this.devicesService=t,this.cdr=a,this.modalService=n,this.isEditModal=!1}ngOnInit(){this.deviceForm=new s.cw({id:new s.NI(""),name:new s.NI("")})}close(t){t===c.F.SAVE?this.save():t===c.F.CANCEL?this.modalService.close(this.name):t===c.F.DISCARD_CHANGES?(this.deviceForm.reset(),this.modalService.close(this.name)):this.isEditModal&&this.deviceForm.dirty?this.modalService.open(this.editConfirmModalName):this.modalService.close(this.name)}save(){this.devicesService[this.isEditModal?"put":"post"](this.deviceForm.value,this.deviceForm.value.id).subscribe(t=>{}),this.deviceForm.reset(),this.close(c.F.DISCARD)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(r.Ih),e.Y36(e.sBO),e.Y36(p.Z))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-new-device-modal"]],features:[e.qOj],decls:9,vars:13,consts:[[3,"title","modalName","closeModal"],[1,"modal"],[1,"form",3,"formGroup"],[1,"form__array"],[3,"title","type","fControlName","fGroup"],[1,"form__array","form__array--buttons"],[3,"label","size","theme","click"],[3,"label","size","click"],[3,"name","title","mainText","actionResult",4,"ngIf"],[3,"name","title","mainText","actionResult"]],template:function(t,a){1&t&&(e.TgZ(0,"app-base-modal",0),e.NdJ("closeModal",function(m){return a.close(m)}),e.TgZ(1,"div",1)(2,"form",2)(3,"div",3),e._UZ(4,"app-form-input",4),e.qZA(),e.TgZ(5,"div",5)(6,"app-primary-button",6),e.NdJ("click",function(){return a.close(a.modalAction.DISCARD)}),e.qZA(),e.TgZ(7,"app-primary-button",7),e.NdJ("click",function(){return a.save()}),e.qZA()()()()(),e.YNc(8,z,1,3,"app-confirmation-modal",8)),2&t&&(e.Q6J("title",a.title)("modalName",a.name),e.xp6(2),e.Q6J("formGroup",a.deviceForm),e.xp6(2),e.Q6J("title","Nazwa urz\u0105dzenia")("type","text")("fControlName","name")("fGroup",a.deviceForm),e.xp6(2),e.Q6J("label","Anuluj")("size","sm")("theme","secondary"),e.xp6(1),e.Q6J("label","Dodaj")("size","sm"),e.xp6(1),e.Q6J("ngIf",a.isEditModal))},directives:[h.u,s._Y,s.JL,s.sg,M.s,C.C,d.O5,u.Y],styles:[".modal[_ngcontent-%COMP%]{padding:8px;min-width:320px;min-height:120px}"],changeDetection:0}),o})();function T(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"app-confirmation-modal",9),e.NdJ("actionResult",function(n){return e.CHM(t),e.oxw().close(n)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("name",t.editConfirmModalName)("title","")("mainText","Twoje zmiany nie zostaly napisane. Czy napewno chcesz wyj\u015b\u0107?")}}let J=(()=>{class o extends D{constructor(t,a,n){super(t,a,n),this.devicesService=t,this.cdr=a,this.modalService=n,this.isEditModal=!0,this.editConfirmModalName="editConfirmModalName"}set deviceId(t){t&&this.loadData(t)}loadData(t){this.subs.push(this.devicesService.getOne(t).subscribe(a=>{this.deviceForm.patchValue(a),this.cdr.detectChanges()}))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(r.Ih),e.Y36(e.sBO),e.Y36(p.Z))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-edit-device-modal"]],inputs:{deviceId:"deviceId"},features:[e.qOj],decls:9,vars:13,consts:[[3,"title","modalName","closeModal"],[1,"modal"],[1,"form",3,"formGroup"],[1,"form__array"],[3,"title","type","fControlName","fGroup"],[1,"form__array","form__array--buttons"],[3,"label","size","theme","click"],[3,"label","size","click"],[3,"name","title","mainText","actionResult",4,"ngIf"],[3,"name","title","mainText","actionResult"]],template:function(t,a){1&t&&(e.TgZ(0,"app-base-modal",0),e.NdJ("closeModal",function(m){return a.close(m)}),e.TgZ(1,"div",1)(2,"form",2)(3,"div",3),e._UZ(4,"app-form-input",4),e.qZA(),e.TgZ(5,"div",5)(6,"app-primary-button",6),e.NdJ("click",function(){return a.close(a.modalAction.DISCARD)}),e.qZA(),e.TgZ(7,"app-primary-button",7),e.NdJ("click",function(){return a.save()}),e.qZA()()()()(),e.YNc(8,T,1,3,"app-confirmation-modal",8)),2&t&&(e.Q6J("title",a.title)("modalName",a.name),e.xp6(2),e.Q6J("formGroup",a.deviceForm),e.xp6(2),e.Q6J("title","Nazwa urz\u0105dzenia")("type","text")("fControlName","name")("fGroup",a.deviceForm),e.xp6(2),e.Q6J("label","Anuluj")("size","sm")("theme","secondary"),e.xp6(1),e.Q6J("label","Dodaj")("size","sm"),e.xp6(1),e.Q6J("ngIf",a.isEditModal))},directives:[h.u,s._Y,s.JL,s.sg,M.s,C.C,d.O5,u.Y],styles:[".modal[_ngcontent-%COMP%]{padding:8px;min-width:320px;min-height:120px}"],changeDetection:0}),o})();const b=[{path:"",component:(()=>{class o extends g.f{constructor(t,a,n){super(t,a,n),this.cdr=t,this.pageService=a,this.modalService=n,this.tableHeader=[{name:"Urz\u0105dzenie",value:"name"}],this.editModalName="editClientModal",this.newModalName="newClientModal",this.confirmModalName="confirmationModal"}ngOnInit(){super.ngOnInit()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.sBO),e.Y36(r.Ih),e.Y36(p.Z))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-devices-page"]],features:[e.qOj],decls:4,vars:10,consts:[[3,"tableHeader","tableData","tableAction"],[3,"title","name","mainText"],[3,"title","name"],[3,"title","name","deviceId"]],template:function(t,a){1&t&&(e.TgZ(0,"app-table",0),e.NdJ("tableAction",function(m){return a.openModal(m)}),e.qZA(),e._UZ(1,"app-confirmation-modal",1)(2,"app-new-device-modal",2)(3,"app-edit-device-modal",3)),2&t&&(e.Q6J("tableHeader",a.tableHeader)("tableData",a.tableData),e.xp6(1),e.Q6J("title","")("name",a.confirmModalName)("mainText","Czy napewno chcesz usuno\u0107 to urz\u0105dzenie?"),e.xp6(1),e.Q6J("title","Dodaj nowe urz\u0105dzenie")("name",a.newModalName),e.xp6(1),e.Q6J("title","Edytuj urz\u0105dzenie")("name",a.editModalName)("deviceId",a.itemId))},directives:[N.a,u.Y,D,J],styles:[""],changeDetection:0}),o})()}];let A=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[f.Bz.forChild(b)],f.Bz]}),o})();var Z=i(6759),w=i(908),y=i(4267);let F=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[d.ez,w.W,s.UX,y._]]}),o})(),E=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[d.ez,A,Z.Y,F,y._]]}),o})()}}]);