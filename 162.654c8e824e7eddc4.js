"use strict";(self.webpackChunkKristofPage=self.webpackChunkKristofPage||[]).push([[162],{3162:(x,f,n)=>{n.r(f),n.d(f,{ProducersModule:()=>E});var m=n(9808),h=n(3902),P=n(9476),e=n(1223),c=n(63),p=n(4929),_=n(7690),u=n(787),T=n(2039),s=n(2852),l=n(3075),M=n(282),C=n(7145),g=n(3064);function J(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"app-confirmation-modal",9),e.NdJ("actionResult",function(r){return e.CHM(o),e.oxw().close(r)}),e.qZA()}if(2&t){const o=e.oxw();e.Q6J("name",o.editConfirmModalName)("title","")("mainText","Twoje zmiany nie zostaly napisane. Czy napewno chcesz wyj\u015b\u0107?")}}let v=(()=>{class t extends T.d{constructor(o,a,r){super(a,r),this.producersService=o,this.cdr=a,this.modalService=r,this.isEditModal=!1}ngOnInit(){this.producerForm=new l.cw({id:new l.NI(""),name:new l.NI("")})}close(o){o===s.F.SAVE?this.save():o===s.F.CANCEL?this.modalService.close(this.name):o===s.F.DISCARD_CHANGES?(this.producerForm.reset(),this.modalService.close(this.name)):this.isEditModal&&this.producerForm.dirty?this.modalService.open(this.editConfirmModalName):this.modalService.close(this.name)}save(){this.producersService[this.isEditModal?"put":"post"](this.producerForm.value,this.producerForm.value.id).subscribe(o=>{}),this.producerForm.reset(),this.close(s.F.DISCARD),this.closeResult.emit(s.F.SAVE)}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(c.Tu),e.Y36(e.sBO),e.Y36(p.Z))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-new-producer-modal"]],features:[e.qOj],decls:9,vars:13,consts:[[3,"title","modalName","closeModal"],[1,"modal"],[1,"form",3,"formGroup"],[1,"form__array"],[3,"title","type","fControlName","fGroup"],[1,"form__array","form__array--buttons"],[3,"label","size","theme","click"],[3,"label","size","click"],[3,"name","title","mainText","actionResult",4,"ngIf"],[3,"name","title","mainText","actionResult"]],template:function(o,a){1&o&&(e.TgZ(0,"app-base-modal",0),e.NdJ("closeModal",function(d){return a.close(d)}),e.TgZ(1,"div",1)(2,"form",2)(3,"div",3),e._UZ(4,"app-form-input",4),e.qZA(),e.TgZ(5,"div",5)(6,"app-primary-button",6),e.NdJ("click",function(){return a.close(a.modalAction.DISCARD)}),e.qZA(),e.TgZ(7,"app-primary-button",7),e.NdJ("click",function(){return a.save()}),e.qZA()()()()(),e.YNc(8,J,1,3,"app-confirmation-modal",8)),2&o&&(e.Q6J("title",a.title)("modalName",a.name),e.xp6(2),e.Q6J("formGroup",a.producerForm),e.xp6(2),e.Q6J("title","Nazwa Producenta")("type","text")("fControlName","name")("fGroup",a.producerForm),e.xp6(2),e.Q6J("label","Anuluj")("size","sm")("theme","secondary"),e.xp6(1),e.Q6J("label","Dodaj")("size","sm"),e.xp6(1),e.Q6J("ngIf",a.isEditModal))},directives:[M.u,l._Y,l.JL,l.sg,C.s,g.C,m.O5,u.Y],styles:[".modal[_ngcontent-%COMP%]{padding:8px;min-width:320px;min-height:120px}"],changeDetection:0}),t})();function A(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"app-confirmation-modal",9),e.NdJ("actionResult",function(r){return e.CHM(o),e.oxw().close(r)}),e.qZA()}if(2&t){const o=e.oxw();e.Q6J("name",o.editConfirmModalName)("title","")("mainText","Twoje zmiany nie zostaly napisane. Czy napewno chcesz wyj\u015b\u0107?")}}let b=(()=>{class t extends v{constructor(o,a,r){super(o,a,r),this.producersService=o,this.cdr=a,this.modalService=r,this.isEditModal=!0,this.editConfirmModalName="editConfirmModalName"}set producerId(o){o&&this.loadData(o)}loadData(o){this.subs.push(this.producersService.getOne(o).subscribe(a=>{this.producerForm.patchValue(a),this.cdr.detectChanges()}))}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(c.Tu),e.Y36(e.sBO),e.Y36(p.Z))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-edit-producer-modal"]],inputs:{producerId:"producerId"},features:[e.qOj],decls:9,vars:13,consts:[[3,"title","modalName","closeModal"],[1,"modal"],[1,"form",3,"formGroup"],[1,"form__array"],[3,"title","type","fControlName","fGroup"],[1,"form__array","form__array--buttons"],[3,"label","size","theme","click"],[3,"label","size","click"],[3,"name","title","mainText","actionResult",4,"ngIf"],[3,"name","title","mainText","actionResult"]],template:function(o,a){1&o&&(e.TgZ(0,"app-base-modal",0),e.NdJ("closeModal",function(d){return a.close(d)}),e.TgZ(1,"div",1)(2,"form",2)(3,"div",3),e._UZ(4,"app-form-input",4),e.qZA(),e.TgZ(5,"div",5)(6,"app-primary-button",6),e.NdJ("click",function(){return a.close(a.modalAction.DISCARD)}),e.qZA(),e.TgZ(7,"app-primary-button",7),e.NdJ("click",function(){return a.save()}),e.qZA()()()()(),e.YNc(8,A,1,3,"app-confirmation-modal",8)),2&o&&(e.Q6J("title",a.title)("modalName",a.name),e.xp6(2),e.Q6J("formGroup",a.producerForm),e.xp6(2),e.Q6J("title","Nazwa Producenta")("type","text")("fControlName","name")("fGroup",a.producerForm),e.xp6(2),e.Q6J("label","Anuluj")("size","sm")("theme","secondary"),e.xp6(1),e.Q6J("label","Dodaj")("size","sm"),e.xp6(1),e.Q6J("ngIf",a.isEditModal))},directives:[M.u,l._Y,l.JL,l.sg,C.s,g.C,m.O5,u.Y],styles:[".modal[_ngcontent-%COMP%]{padding:8px;min-width:320px;min-height:120px}"],changeDetection:0}),t})();const Z=[{path:"",component:(()=>{class t extends P.f{constructor(o,a,r){super(o,a,r),this.cdr=o,this.pageService=a,this.modalService=r,this.tableHeader=[{name:"Producent",value:"name"}],this.editModalName="editClientModal",this.newModalName="newClientModal",this.confirmModalName="confirmationModal"}ngOnInit(){super.ngOnInit()}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(e.sBO),e.Y36(c.Tu),e.Y36(p.Z))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-producers-page"]],features:[e.qOj],decls:4,vars:10,consts:[[3,"tableHeader","tableData","tableAction"],[3,"title","name","mainText"],[3,"title","name"],[3,"title","name","producerId"]],template:function(o,a){1&o&&(e.TgZ(0,"app-table",0),e.NdJ("tableAction",function(d){return a.openModal(d)}),e.qZA(),e._UZ(1,"app-confirmation-modal",1)(2,"app-new-producer-modal",2)(3,"app-edit-producer-modal",3)),2&o&&(e.Q6J("tableHeader",a.tableHeader)("tableData",a.tableData),e.xp6(1),e.Q6J("title","")("name",a.confirmModalName)("mainText","Czy napewno chcesz usun\u0107 tego producenta?"),e.xp6(1),e.Q6J("title","Dodaj nowegeo producenta")("name",a.newModalName),e.xp6(1),e.Q6J("title","Edytuj producenta")("name",a.editModalName)("producerId",a.itemId))},directives:[_.a,u.Y,v,b],styles:[""],changeDetection:0}),t})()}];let w=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[h.Bz.forChild(Z)],h.Bz]}),t})();var z=n(6759),y=n(4267),F=n(908);let N=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[m.ez,l.UX,F.W,y._]]}),t})(),E=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[m.ez,w,z.Y,y._,N,N]]}),t})()}}]);