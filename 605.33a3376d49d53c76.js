"use strict";(self.webpackChunkKristofPage=self.webpackChunkKristofPage||[]).push([[605],{1605:(x,f,i)=>{i.r(f),i.d(f,{ClientsModule:()=>E});var p=i(9808),C=i(3902),g=i(9476),e=i(1223),d=i(63),c=i(4929),y=i(7690),u=i(787),T=i(2039),r=i(2852),m=i(3075),h=i(282),N=i(7145),M=i(3064);function J(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"app-confirmation-modal",9),e.NdJ("actionResult",function(a){return e.CHM(t),e.oxw().close(a)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("name",t.editConfirmModalName)("title","")("mainText","Twoje zmiany nie zostaly napisane. Czy napewno chcesz wyj\u015b\u0107?")}}let _=(()=>{class n extends T.d{constructor(t,o,a){super(o,a),this.clientsService=t,this.cdr=o,this.modalService=a,this.isEditModal=!1}ngOnInit(){this.clientForm=new m.cw({id:new m.NI(""),name:new m.NI(""),firstName:new m.NI(""),lastName:new m.NI(""),phoneNumber:new m.NI(""),email:new m.NI("",[m.kI.email])})}close(t){t===r.F.SAVE?this.save():t===r.F.CANCEL?this.modalService.close(this.name):t===r.F.DISCARD_CHANGES?(this.clientForm.reset(),this.modalService.close(this.name)):this.isEditModal&&this.clientForm.dirty?this.modalService.open(this.editConfirmModalName):this.modalService.close(this.name)}save(){var t;null===(t=this.clientForm.get("name"))||void 0===t||t.patchValue(`${this.clientForm.value.firstName}-${this.clientForm.value.lastName}`),this.subs.push(this.clientsService[this.isEditModal?"put":"post"](this.clientForm.value,this.clientForm.value.id).subscribe(()=>{})),this.clientForm.reset(),this.close(r.F.DISCARD),this.closeResult.emit(r.F.SAVE)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.ak),e.Y36(e.sBO),e.Y36(c.Z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-new-client-modal"]],features:[e.qOj],decls:13,vars:25,consts:[[3,"title","modalName","closeModal"],[1,"modal"],[1,"form",3,"formGroup"],[1,"form__array"],[3,"title","type","fControlName","fGroup"],[1,"form__array","form__array--buttons"],[3,"label","size","theme","click"],[3,"label","size","click"],[3,"name","title","mainText","actionResult",4,"ngIf"],[3,"name","title","mainText","actionResult"]],template:function(t,o){1&t&&(e.TgZ(0,"app-base-modal",0),e.NdJ("closeModal",function(s){return o.close(s)}),e.TgZ(1,"div",1)(2,"form",2)(3,"div",3),e._UZ(4,"app-form-input",4)(5,"app-form-input",4),e.qZA(),e.TgZ(6,"div",3),e._UZ(7,"app-form-input",4)(8,"app-form-input",4),e.qZA(),e.TgZ(9,"div",5)(10,"app-primary-button",6),e.NdJ("click",function(){return o.close(o.modalAction.DISCARD)}),e.qZA(),e.TgZ(11,"app-primary-button",7),e.NdJ("click",function(){return o.save()}),e.qZA()()()()(),e.YNc(12,J,1,3,"app-confirmation-modal",8)),2&t&&(e.Q6J("title",o.title)("modalName",o.name),e.xp6(2),e.Q6J("formGroup",o.clientForm),e.xp6(2),e.Q6J("title","Imi\u0119")("type","text")("fControlName","firstName")("fGroup",o.clientForm),e.xp6(1),e.Q6J("title","Nazwisko")("type","text")("fControlName","lastName")("fGroup",o.clientForm),e.xp6(2),e.Q6J("title","Email")("type","text")("fControlName","email")("fGroup",o.clientForm),e.xp6(1),e.Q6J("title","Nr. telefonu")("type","text")("fControlName","phoneNumber")("fGroup",o.clientForm),e.xp6(2),e.Q6J("label","Anuluj")("size","sm")("theme","secondary"),e.xp6(1),e.Q6J("label","Dodaj")("size","sm"),e.xp6(1),e.Q6J("ngIf",o.isEditModal))},directives:[h.u,m._Y,m.JL,m.sg,N.s,M.C,p.O5,u.Y],styles:[".modal[_ngcontent-%COMP%]{padding:8px;min-width:600px;min-height:200px}"],changeDetection:0}),n})();function Z(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"app-confirmation-modal",9),e.NdJ("actionResult",function(a){return e.CHM(t),e.oxw().close(a)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("name",t.editConfirmModalName)("title","")("mainText","Twoje zmiany nie zostaly napisane. Czy napewno chcesz wyj\u015b\u0107?")}}let b=(()=>{class n extends _{constructor(t,o,a){super(t,o,a),this.clientsService=t,this.cdr=o,this.modalService=a,this.isEditModal=!0,this.editConfirmModalName="editConfirmModalName"}set userId(t){t&&this.loadData(t)}loadData(t){this.subs.push(this.clientsService.getOne(t).subscribe(o=>{this.clientForm.patchValue(o),this.cdr.detectChanges()}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.ak),e.Y36(e.sBO),e.Y36(c.Z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-client-modal"]],inputs:{userId:"userId"},features:[e.qOj],decls:13,vars:25,consts:[[3,"title","modalName","closeModal"],[1,"modal"],[1,"form",3,"formGroup"],[1,"form__array"],[3,"title","type","fControlName","fGroup"],[1,"form__array","form__array--buttons"],[3,"label","size","theme","click"],[3,"label","size","click"],[3,"name","title","mainText","actionResult",4,"ngIf"],[3,"name","title","mainText","actionResult"]],template:function(t,o){1&t&&(e.TgZ(0,"app-base-modal",0),e.NdJ("closeModal",function(s){return o.close(s)}),e.TgZ(1,"div",1)(2,"form",2)(3,"div",3),e._UZ(4,"app-form-input",4)(5,"app-form-input",4),e.qZA(),e.TgZ(6,"div",3),e._UZ(7,"app-form-input",4)(8,"app-form-input",4),e.qZA(),e.TgZ(9,"div",5)(10,"app-primary-button",6),e.NdJ("click",function(){return o.close(o.modalAction.DISCARD)}),e.qZA(),e.TgZ(11,"app-primary-button",7),e.NdJ("click",function(){return o.save()}),e.qZA()()()()(),e.YNc(12,Z,1,3,"app-confirmation-modal",8)),2&t&&(e.Q6J("title",o.title)("modalName",o.name),e.xp6(2),e.Q6J("formGroup",o.clientForm),e.xp6(2),e.Q6J("title","Imi\u0119")("type","text")("fControlName","firstName")("fGroup",o.clientForm),e.xp6(1),e.Q6J("title","Nazwisko")("type","text")("fControlName","lastName")("fGroup",o.clientForm),e.xp6(2),e.Q6J("title","Email")("type","text")("fControlName","email")("fGroup",o.clientForm),e.xp6(1),e.Q6J("title","Nr. telefonu")("type","text")("fControlName","phoneNumber")("fGroup",o.clientForm),e.xp6(2),e.Q6J("label","Anuluj")("size","sm")("theme","secondary"),e.xp6(1),e.Q6J("label","Dodaj")("size","sm"),e.xp6(1),e.Q6J("ngIf",o.isEditModal))},directives:[h.u,m._Y,m.JL,m.sg,N.s,M.C,p.O5,u.Y],styles:[".modal[_ngcontent-%COMP%]{padding:8px;min-width:600px;min-height:200px}"],changeDetection:0}),n})();const A=[{path:"",component:(()=>{class n extends g.f{constructor(t,o,a){super(t,o,a),this.cdr=t,this.pageService=o,this.modalService=a,this.tableHeader=[{name:"Nazwa",value:"name"},{name:"Imi\u0119",value:"firstName"},{name:"Nazwisko",value:"lastName"},{name:"E-mail",value:"email"},{name:"Nr. Telefonu",value:"phoneNumber"}],this.editModalName="editClientModal",this.newModalName="newClientModal",this.confirmModalName="confirmationModal"}ngOnInit(){super.ngOnInit()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(d.ak),e.Y36(c.Z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-clients-page"]],features:[e.qOj],decls:4,vars:10,consts:[[3,"tableHeader","tableData","tableAction"],[3,"title","name","mainText"],[3,"title","name","closeResult"],[3,"title","name","userId","closeResult"]],template:function(t,o){1&t&&(e.TgZ(0,"app-table",0),e.NdJ("tableAction",function(s){return o.openModal(s)}),e.qZA(),e._UZ(1,"app-confirmation-modal",1),e.TgZ(2,"app-new-client-modal",2),e.NdJ("closeResult",function(){return o.getItem()}),e.qZA(),e.TgZ(3,"app-edit-client-modal",3),e.NdJ("closeResult",function(){return o.getItem()}),e.qZA()),2&t&&(e.Q6J("tableHeader",o.tableHeader)("tableData",o.tableData),e.xp6(1),e.Q6J("title","")("name",o.confirmModalName)("mainText","Czy napewno chcesz usun\u0107 tego clienta?"),e.xp6(1),e.Q6J("title","Dodaj nowego klienta")("name",o.newModalName),e.xp6(1),e.Q6J("title","Edytuj klienta")("name",o.editModalName)("userId",o.itemId))},directives:[y.a,u.Y,_,b],styles:[""],changeDetection:0}),n})()}];let F=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[C.Bz.forChild(A)],C.Bz]}),n})();var w=i(6759),I=i(908),v=i(4267);let z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.ez,m.UX,I.W,v._]]}),n})(),E=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.ez,F,w.Y,z,v._]]}),n})()}}]);