"use strict";(self.webpackChunkKristofPage=self.webpackChunkKristofPage||[]).push([[947],{8947:(I,v,n)=>{n.r(v),n.d(v,{DevicesModule:()=>E});var c=n(9808),f=n(3902),g=n(9476),e=n(1223),r=n(63),p=n(4929),y=n(7690),u=n(787),N=n(2039),d=n(2852),s=n(3075),h=n(282),M=n(7145),_=n(3064);function T(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"app-confirmation-modal",9),e.NdJ("actionResult",function(i){return e.CHM(t),e.oxw().close(i)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("name",t.editConfirmModalName)("title","")("mainText","Twoje zmiany nie zostaly napisane. Czy napewno chcesz wyj\u015b\u0107?")}}let C=(()=>{class o extends N.d{constructor(t,a,i){super(a,i),this.devicesService=t,this.cdr=a,this.modalService=i,this.isEditModal=!1}ngOnInit(){this.deviceForm=new s.cw({id:new s.NI(0),name:new s.NI("")})}close(t){t===d.F.SAVE?this.save():t===d.F.CANCEL?this.modalService.close(this.name):t===d.F.DISCARD_CHANGES?(this.deviceForm.reset(),this.modalService.close(this.name)):this.isEditModal&&this.deviceForm.dirty?this.modalService.open(this.editConfirmModalName):this.modalService.close(this.name)}save(){this.devicesService[this.isEditModal?"put":"post"](this.deviceForm.value,this.deviceForm.value.id).subscribe(t=>{}),this.deviceForm.reset(),this.close(d.F.DISCARD),this.closeResult.emit(d.F.SAVE)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(r.Ih),e.Y36(e.sBO),e.Y36(p.Z))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-new-device-modal"]],features:[e.qOj],decls:9,vars:13,consts:[[3,"title","modalName","closeModal"],[1,"modal"],[1,"form",3,"formGroup"],[1,"form__array"],[3,"title","type","fControlName","fGroup"],[1,"form__array","form__array--buttons"],[3,"label","size","theme","click"],[3,"label","size","click"],[3,"name","title","mainText","actionResult",4,"ngIf"],[3,"name","title","mainText","actionResult"]],template:function(t,a){1&t&&(e.TgZ(0,"app-base-modal",0),e.NdJ("closeModal",function(m){return a.close(m)}),e.TgZ(1,"div",1)(2,"form",2)(3,"div",3),e._UZ(4,"app-form-input",4),e.qZA(),e.TgZ(5,"div",5)(6,"app-primary-button",6),e.NdJ("click",function(){return a.close(a.modalAction.DISCARD)}),e.qZA(),e.TgZ(7,"app-primary-button",7),e.NdJ("click",function(){return a.save()}),e.qZA()()()()(),e.YNc(8,T,1,3,"app-confirmation-modal",8)),2&t&&(e.Q6J("title",a.title)("modalName",a.name),e.xp6(2),e.Q6J("formGroup",a.deviceForm),e.xp6(2),e.Q6J("title","Nazwa urz\u0105dzenia")("type","text")("fControlName","name")("fGroup",a.deviceForm),e.xp6(2),e.Q6J("label","Anuluj")("size","sm")("theme","secondary"),e.xp6(1),e.Q6J("label","Dodaj")("size","sm"),e.xp6(1),e.Q6J("ngIf",a.isEditModal))},directives:[h.u,s._Y,s.JL,s.sg,M.s,_.C,c.O5,u.Y],styles:[".modal[_ngcontent-%COMP%]{padding:8px;min-width:320px;min-height:120px}"],changeDetection:0}),o})();function z(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"app-confirmation-modal",9),e.NdJ("actionResult",function(i){return e.CHM(t),e.oxw().close(i)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("name",t.editConfirmModalName)("title","")("mainText","Twoje zmiany nie zostaly napisane. Czy napewno chcesz wyj\u015b\u0107?")}}let J=(()=>{class o extends C{constructor(t,a,i){super(t,a,i),this.devicesService=t,this.cdr=a,this.modalService=i,this.isEditModal=!0,this.editConfirmModalName="editConfirmModalName"}set deviceId(t){t&&this.loadData(t)}loadData(t){this.subs.push(this.devicesService.getOne(t).subscribe(a=>{this.deviceForm.patchValue(a),this.cdr.detectChanges()}))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(r.Ih),e.Y36(e.sBO),e.Y36(p.Z))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-edit-device-modal"]],inputs:{deviceId:"deviceId"},features:[e.qOj],decls:9,vars:13,consts:[[3,"title","modalName","closeModal"],[1,"modal"],[1,"form",3,"formGroup"],[1,"form__array"],[3,"title","type","fControlName","fGroup"],[1,"form__array","form__array--buttons"],[3,"label","size","theme","click"],[3,"label","size","click"],[3,"name","title","mainText","actionResult",4,"ngIf"],[3,"name","title","mainText","actionResult"]],template:function(t,a){1&t&&(e.TgZ(0,"app-base-modal",0),e.NdJ("closeModal",function(m){return a.close(m)}),e.TgZ(1,"div",1)(2,"form",2)(3,"div",3),e._UZ(4,"app-form-input",4),e.qZA(),e.TgZ(5,"div",5)(6,"app-primary-button",6),e.NdJ("click",function(){return a.close(a.modalAction.DISCARD)}),e.qZA(),e.TgZ(7,"app-primary-button",7),e.NdJ("click",function(){return a.save()}),e.qZA()()()()(),e.YNc(8,z,1,3,"app-confirmation-modal",8)),2&t&&(e.Q6J("title",a.title)("modalName",a.name),e.xp6(2),e.Q6J("formGroup",a.deviceForm),e.xp6(2),e.Q6J("title","Nazwa urz\u0105dzenia")("type","text")("fControlName","name")("fGroup",a.deviceForm),e.xp6(2),e.Q6J("label","Anuluj")("size","sm")("theme","secondary"),e.xp6(1),e.Q6J("label","Dodaj")("size","sm"),e.xp6(1),e.Q6J("ngIf",a.isEditModal))},directives:[h.u,s._Y,s.JL,s.sg,M.s,_.C,c.O5,u.Y],styles:[".modal[_ngcontent-%COMP%]{padding:8px;min-width:320px;min-height:120px}"],changeDetection:0}),o})();const A=[{path:"",component:(()=>{class o extends g.f{constructor(t,a,i){super(t,a,i),this.cdr=t,this.pageService=a,this.modalService=i,this.tableHeader=[{name:"Urz\u0105dzenie",value:"name"}],this.editModalName="editClientModal",this.newModalName="newClientModal",this.confirmModalName="confirmationModal"}ngOnInit(){super.ngOnInit()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.sBO),e.Y36(r.Ih),e.Y36(p.Z))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-devices-page"]],features:[e.qOj],decls:4,vars:10,consts:[[3,"tableHeader","tableData","tableAction"],[3,"title","name","mainText"],[3,"title","name","closeResult"],[3,"title","name","deviceId","closeResult"]],template:function(t,a){1&t&&(e.TgZ(0,"app-table",0),e.NdJ("tableAction",function(m){return a.openModal(m)}),e.qZA(),e._UZ(1,"app-confirmation-modal",1),e.TgZ(2,"app-new-device-modal",2),e.NdJ("closeResult",function(){return a.getItem()}),e.qZA(),e.TgZ(3,"app-edit-device-modal",3),e.NdJ("closeResult",function(){return a.getItem()}),e.qZA()),2&t&&(e.Q6J("tableHeader",a.tableHeader)("tableData",a.tableData),e.xp6(1),e.Q6J("title","")("name",a.confirmModalName)("mainText","Czy napewno chcesz usuno\u0107 to urz\u0105dzenie?"),e.xp6(1),e.Q6J("title","Dodaj nowe urz\u0105dzenie")("name",a.newModalName),e.xp6(1),e.Q6J("title","Edytuj urz\u0105dzenie")("name",a.editModalName)("deviceId",a.itemId))},directives:[y.a,u.Y,C,J],styles:[""],changeDetection:0}),o})()}];let Z=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[f.Bz.forChild(A)],f.Bz]}),o})();var b=n(6759),w=n(908),D=n(4267);let F=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[c.ez,w.W,s.UX,D._]]}),o})(),E=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[c.ez,Z,b.Y,F,D._]]}),o})()}}]);